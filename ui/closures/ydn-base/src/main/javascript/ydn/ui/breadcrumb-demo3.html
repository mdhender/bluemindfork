<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Sitemap and breadcrumb demo</title>

    <link rel="stylesheet" type="text/css" href="breadcrumb.css">
    <script type="text/javascript" src="../../../../closure-library/closure/goog/base.js"></script>
    <script type="text/javascript" src="../../deps.js"></script>
    <script type="text/javascript">
        goog.require("goog.events.EventTarget");
    </script>
    <script type="text/javascript" src="breadcrumb.js"></script>
    <script type="text/javascript">
        goog.require("ydn.data.SiteMap");
        goog.require("ydn.ui.Breadcrumb");
    </script>

</head>
<body>
<div>Heading before breadcrumb.</div>
<div id="ydn-breadcrumb"></div>
<div>A bunch of text.</div>

<script type="text/javascript">

  var xhr = new XMLHttpRequest();
  xhr.open('GET', 'sitemap.xml', true);
  xhr.onload = function() {
    var xml = xhr.responseXML;
    var obj = ydn.data.SiteMap.fromXML(xml, '/crm-in-inbox/sugarcrm/user-guide/index.html');
    console.log(xml);
    console.log(obj);
    console.log(JSON.stringify(obj.toJSON(), null, 2));
  };
  xhr.send();


  // var sitemap = ydn.data.SiteMap.fromJSON(SITE_MAP);
  // var breadcrumb = new ydn.ui.Breadcrumb(sitemap);
  // breadcrumb.render(document.getElementById('ydn-breadcrumb'));

</script>
</body>
</html>