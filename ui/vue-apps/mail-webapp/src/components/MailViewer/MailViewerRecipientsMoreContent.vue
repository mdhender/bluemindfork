<template>
    <div class="mail-viewer-recipients-more-content" tabindex="0" @keyup.esc="$emit('close')">
        <div v-if="!hideClose" class="d-flex position-sticky top-0 pt-1">
            <div class="flex-fill">
                <bm-button-close class="align-self-end" @click="$emit('close')" />
            </div>
        </div>
        <div class="overflow-auto pb-5">
            <div class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.from") }}</div>
                <div class="custom-col-right">
                    <mail-contact-card-slots
                        :component="Contact"
                        :contact="message.from"
                        no-avatar
                        transparent
                        bold
                        show-address
                        popover
                    />
                </div>
            </div>
            <div class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.to") }}</div>
                <div class="custom-col-right d-flex flex-column">
                    <mail-contact-card-slots
                        v-for="(contact, index) in message.to"
                        :key="`${contact.address}#${index}`"
                        :component="Contact"
                        :contact="contact"
                        no-avatar
                        transparent
                        bold
                        show-address
                        :text-truncate="false"
                        popover
                    />
                </div>
            </div>
            <div v-if="message.cc && message.cc.length" class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.cc") }}</div>
                <div class="custom-col-right d-flex flex-column">
                    <mail-contact-card-slots
                        v-for="(contact, index) in message.cc"
                        :key="`${contact.address}#${index}`"
                        :component="Contact"
                        :contact="contact"
                        no-avatar
                        transparent
                        bold
                        show-address
                        :text-truncate="false"
                        popover
                    />
                </div>
            </div>
            <div v-if="message.bcc && message.bcc.length" class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.bcc") }}</div>
                <div class="custom-col-right d-flex flex-column">
                    <mail-contact-card-slots
                        v-for="(contact, index) in message.bcc"
                        :key="`${contact.address}#${index}`"
                        :component="Contact"
                        :contact="contact"
                        no-avatar
                        transparent
                        bold
                        show-address
                        :text-truncate="false"
                        popover
                    />
                </div>
            </div>
            <div class="d-flex">
                <div class="custom-col-left" />
                <div class="custom-col-right"><hr class="mb-1 mt-3" /></div>
            </div>
            <div class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.date") }}</div>
                <div class="fcustom-col-right font-weight-bold">{{ new Date(message.date).toLocaleString() }}</div>
            </div>
            <div class="d-flex">
                <div class="custom-col-left text-right pr-4">{{ $t("common.subject") }}</div>
                <div class="custom-col-right font-weight-bold">{{ message.subject }}</div>
            </div>
        </div>
    </div>
</template>

<script>
import { Contact } from "@bluemind/business-components";
import { BmButtonClose } from "@bluemind/ui-components";
import MailContactCardSlots from "../MailContactCardSlots";

export default {
    name: "MailViewerRecipientsMoreContent",
    components: { BmButtonClose, MailContactCardSlots },
    props: {
        message: {
            type: Object,
            required: true
        },
        hideClose: {
            type: Boolean,
            default: false
        }
    },
    data() {
        return { Contact };
    }
};
</script>

<style lang="scss">
@import "~@bluemind/ui-components/src/css/variables";

.mail-viewer-recipients-more-content {
    $left-col-width: 4rem;
    .custom-col-left {
        width: $left-col-width;
        color: $neutral-fg;
    }
    .custom-col-right {
        width: calc(100% - $left-col-width);
    }
}
</style>
